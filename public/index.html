<!DOCTYPE html>
<html lang="en">
<head>
  <title>Letter Machine</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <link
          href="https://fonts.googleapis.com/css?family=Montserrat"
          rel="stylesheet"
  />
  <link
          href="https://fonts.googleapis.com/css?family=Merriweather"
          rel="stylesheet"
  />
</head>

<body>
<div id="reviewBtns">
  <button class="inboxBtn" id="Inbox">Inbox</button>
  <button class="outboxBtn" id="Outbox">Outbox</button>
</div>

<div id="notification">
  <h1 id="notification1">Don't wait to send a message!</h1>
</div>
<div id="container">
  <div id="msg-form">
    <form action="" method="post">
      <input type="text" id="yourName" value="From" />
      <input type="text" id="theName" value="To" />
      <input type="text" id="Msg" value="type here..." />

      <div id="actionBtns">
        <button class="sendBtn" id="send"><span>send</span></button>
        <button class="acceptBtn" id="accept"><span>accept</span></button>
      </div>
    </form>
  </div>

  <div id="msg_sent"></div>
  <div id="messages">
    <table id="text_table"></table>
  </div>
  <div id="Editor"></div>
</div>
</body>

<script>
  const send = function (e) {
    // prevent default form action from being carried out
    e.preventDefault();

    const input = document.querySelector("#yourName"),
            json = { yourName: input.value, theName : input.value, Msg : input.value},
            body = JSON.stringify(json);

    fetch("/send", {
      method: "POST",
      body,
    }).then(function (response) {
      console.log(response);
    });

    return false;
  };

  window.onload = function () {
    const button = document.querySelector("button");
    button.onclick = send;
  };
</script>
</html>
